<?php

declare(strict_types=1);

{{header_comment}}

namespace {{namespace}}\Domain\Entity;

use Leevel\Database\Ddd\Entity;

{{file_comment}}
class {{file_name}} extends Entity
{
    /**
     * Database table.
     *
     * @var string
     */
    const TABLE = '{{table_name}}';

    /**
     * Primary key.
     *
     * @var {{primary_key_type}}
     */
    const ID = {{primary_key}};

    /**
     * Auto increment.
     *
     * @var string
     */
    const AUTO = {{auto_increment}};

    /**
     * Entity struct.
     *
{{struct_comment}}
     * 
     * @var array
     */
    const STRUCT = [
{{struct}}
    ];

    /**
     * Prop data.
     *
     * @var array
     */
    private array $data = [];
    
    /**
     * Database connect.
     *
     * @var mixed
     */
    private static $connect;

    /**
     * Setter.
     *
     * @param mixed  $value
     */
    public function setter(string $prop, $value): self
    {
        $this->data[$this->realProp($prop)] = $value;

        return $this;
    }

    /**
     * Getter.
     *
     * @return mixed
     */
    public function getter(string $prop)
    {
        return $this->data[$this->realProp($prop)] ?? null;
    }

    /**
     * Set database connect.
     *
     * @param mixed $connect
     */
    public static function withConnect($connect): void
    {
        static::$connect = $connect;
    }

    /**
     * Get database connect.
     *
     * @param mixed $connect
     */
    public static function connect()
    {
        return static::$connect;
    }
}
